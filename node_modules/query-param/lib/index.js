'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.queryParam = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _extractors = require('./extractors');

var _validators = require('./validators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getBaseProperties = function getBaseProperties(_ref) {
  var url = _ref.url;
  var valid = _ref.valid;
  return { url: url, valid: valid };
};

var getExtractedProperties = function getExtractedProperties(url) {
  return (0, _extends3.default)({
    host: (0, _extractors.extractHost)(url),
    hostname: (0, _extractors.extractHost)(url) + ':' + (0, _extractors.extractPort)(url),
    port: (0, _extractors.extractPort)(url),
    protocol: (0, _extractors.extractProtocol)(url)
  }, getBaseProperties({ url: url, valid: true }));
};

var queryParam = exports.queryParam = function queryParam(url) {
  if (!(0, _validators.isValidUrl)(url)) {
    return getBaseProperties({ url: url, valid: false });
  }
  return getExtractedProperties(url);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsSUFBTSxvQkFBb0IsU0FBcEIsaUJBQW9CO0FBQUEsTUFBRyxHQUFILFFBQUcsR0FBSDtBQUFBLE1BQVEsS0FBUixRQUFRLEtBQVI7QUFBQSxTQUFxQixFQUFFLFFBQUYsRUFBTyxZQUFQLEVBQXJCO0FBQUEsQ0FBMUI7O0FBRUEsSUFBTSx5QkFBeUIsU0FBekIsc0JBQXlCLENBQUMsR0FBRDtBQUFBO0FBQzdCLFVBQU0sNkJBQVksR0FBWixDQUR1QjtBQUU3QixjQUFhLDZCQUFZLEdBQVosQ0FBYixTQUFpQyw2QkFBWSxHQUFaLENBRko7QUFHN0IsVUFBTSw2QkFBWSxHQUFaLENBSHVCO0FBSTdCLGNBQVUsaUNBQWdCLEdBQWhCO0FBSm1CLEtBSzFCLGtCQUFrQixFQUFFLFFBQUYsRUFBTyxPQUFPLElBQWQsRUFBbEIsQ0FMMEI7QUFBQSxDQUEvQjs7QUFRTyxJQUFNLGtDQUFhLFNBQWIsVUFBYSxDQUFDLEdBQUQsRUFBUztBQUNqQyxNQUFJLENBQUMsNEJBQVcsR0FBWCxDQUFMLEVBQXNCO0FBQUUsV0FBTyxrQkFBa0IsRUFBRSxRQUFGLEVBQU8sT0FBTyxLQUFkLEVBQWxCLENBQVA7QUFBa0Q7QUFDMUUsU0FBTyx1QkFBdUIsR0FBdkIsQ0FBUDtBQUNELENBSE0iLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleHRyYWN0SG9zdCwgZXh0cmFjdFBvcnQsIGV4dHJhY3RQcm90b2NvbCB9IGZyb20gJy4vZXh0cmFjdG9ycyc7XG5pbXBvcnQgeyBpc1ZhbGlkVXJsIH0gZnJvbSAnLi92YWxpZGF0b3JzJztcblxuY29uc3QgZ2V0QmFzZVByb3BlcnRpZXMgPSAoeyB1cmwsIHZhbGlkIH0pID0+ICh7IHVybCwgdmFsaWQgfSk7XG5cbmNvbnN0IGdldEV4dHJhY3RlZFByb3BlcnRpZXMgPSAodXJsKSA9PiAoe1xuICBob3N0OiBleHRyYWN0SG9zdCh1cmwpLFxuICBob3N0bmFtZTogYCR7ZXh0cmFjdEhvc3QodXJsKX06JHtleHRyYWN0UG9ydCh1cmwpfWAsXG4gIHBvcnQ6IGV4dHJhY3RQb3J0KHVybCksXG4gIHByb3RvY29sOiBleHRyYWN0UHJvdG9jb2wodXJsKSxcbiAgLi4uZ2V0QmFzZVByb3BlcnRpZXMoeyB1cmwsIHZhbGlkOiB0cnVlIH0pLFxufSk7XG5cbmV4cG9ydCBjb25zdCBxdWVyeVBhcmFtID0gKHVybCkgPT4ge1xuICBpZiAoIWlzVmFsaWRVcmwodXJsKSkgeyByZXR1cm4gZ2V0QmFzZVByb3BlcnRpZXMoeyB1cmwsIHZhbGlkOiBmYWxzZSB9KTsgfVxuICByZXR1cm4gZ2V0RXh0cmFjdGVkUHJvcGVydGllcyh1cmwpO1xufTtcbiJdfQ==